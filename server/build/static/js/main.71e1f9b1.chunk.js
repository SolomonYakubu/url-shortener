(this["webpackJsonppoll-app"]=this["webpackJsonppoll-app"]||[]).push([[0],{132:function(e,t,r){},196:function(e,t,r){},197:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r(0),o=r.n(a),i=r(8),s=r.n(i),c=(r(132),r(13)),l=r(18),u=r.n(l),d=r(33),p=r(34),b=r.n(p),j=(r(64),r(11)),h=r(10),g=(r(65),r(56)),f=r.n(g);function x(e){var t=Object(a.useState)(""),r=Object(c.a)(t,2),o=r[0],i=r[1],s=Object(a.useState)(""),l=Object(c.a)(s,2),p=l[0],g=l[1],x=Object(a.useState)(""),O=Object(c.a)(x,2),m=O[0],v=O[1],k=Object(j.f)(),y=function(){var t=Object(d.a)(u.a.mark((function t(r){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.loading(!0),r.preventDefault(),t.prev=2,p===m){t.next=6;break}return e.loading(!1),t.abrupt("return",h.b.error("Passwords do not match",{position:"top-right",autoClose:3e3,hideProgressBar:"false"}));case 6:return t.next=8,b.a.post("https://lincut.herokuapp.com/user/register",{email:o,password:p},{headers:{"content-type":"application/json"}});case 8:201===t.sent.status&&(k.push("/"),e.loading(!1),f()({title:"Congratulations!!! ",text:"Your account has been successfully created!",icon:"success"})),t.next=25;break;case 12:t.prev=12,t.t0=t.catch(2),n=t.t0.message.split(" ")[5],e.loading(!1),t.t1=n,t.next="400"===t.t1?19:"406"===t.t1?21:23;break;case 19:return h.b.error("Enter a valid email",{position:"top-right",autoClose:3e3,hideProgressBar:"false"}),t.abrupt("break",24);case 21:return h.b.error("Email is already registered",{position:"top-right",autoClose:3e3,hideProgressBar:"false"}),t.abrupt("break",24);case 23:h.b.error("Network error",{position:"top-right",autoClose:3e3,hideProgressBar:"false"});case 24:console.log(n);case 25:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"register-container",children:[Object(n.jsx)(h.a,{limit:1}),Object(n.jsx)("form",{className:"register-form",method:"POST",onSubmit:y.bind(this),children:Object(n.jsxs)("div",{className:"register-form-div",children:[Object(n.jsx)("h2",{style:{color:"#5f5f5f"},children:"Register"}),Object(n.jsx)("input",{type:"email",className:"register-name input",placeholder:"Email",value:o,onChange:function(e){return t=e.target.value,void i(t);var t},required:!0}),Object(n.jsx)("input",{type:"password",className:"register-name input",placeholder:"Password",value:p,onChange:function(e){return t=e.target.value,void g(t);var t},required:!0}),Object(n.jsx)("input",{type:"password",className:"register-name input",placeholder:"Confirm Password",value:m,onChange:function(e){return t=e.target.value,void v(t);var t},required:!0}),Object(n.jsx)("input",{type:"submit",value:"Register",className:"register-button input"})]})})]})}var O=function(e){var t=Object(j.f)(),r=JSON.parse(localStorage.getItem("token")),o=Object(a.useState)({}),i=Object(c.a)(o,2),s=i[0],l=i[1];return Object(a.useEffect)((function(){r||t.push("/"),function(){var n=Object(d.a)(u.a.mark((function n(){var a,o;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.loading(!0),n.prev=1,n.next=4,b.a.get("https://lincut.herokuapp.com/user/".concat(r.id),{headers:{Authorization:"Bearer ".concat(r.token)}});case 4:a=n.sent,l(a.data),e.loading(!1),n.next=20;break;case 9:n.prev=9,n.t0=n.catch(1),o=n.t0.message.split(" ")[5],e.loading(!1),n.t1=o,n.next="401"===n.t1?16:19;break;case 16:return h.b.error("Session expired",{position:"top-right",autoClose:3e3,hideProgressBar:"false"}),setTimeout((function(){t.push("/"),localStorage.clear()}),3e3),n.abrupt("break",20);case 19:h.b.error("Network error",{position:"top-right",autoClose:3e3,hideProgressBar:"false"});case 20:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(){return n.apply(this,arguments)}}()()}),[]),Object(n.jsxs)("div",{className:"profile-container",children:[Object(n.jsx)(h.a,{limit:1}),Object(n.jsx)("div",{children:s.name})]})},m=r.p+"static/media/error.4a08ab07.svg";function v(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{}),Object(n.jsx)("img",{src:m,alt:"error"}),Object(n.jsx)("p",{style:{color:"#fff",fontFamily:"Roboto"},children:"The page you are looking for doesn't exist or has been moved."})]})})}var k=r(27),y=r(111),w=r.n(y),C=r.p+"static/media/business-woman.5f426278.svg";function S(e){var t=Object(j.f)(),r=Object(a.useState)(""),o=Object(c.a)(r,2),i=o[0],s=o[1],l=Object(a.useState)(""),p=Object(c.a)(l,2),g=p[0],f=p[1],x=function(){var r=Object(d.a)(u.a.mark((function r(n){var a,o,s;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.preventDefault(),e.loading(!0),r.prev=2,r.next=5,b.a.post("https://lincut.herokuapp.com/user/login",{email:i,password:g},{headers:{"content-type":"application/json"}});case 5:200===(a=r.sent).status&&(o=a.data,localStorage.setItem("token",JSON.stringify(o)),e.loading(!1),t.push("/dashboard")),r.next=22;break;case 9:r.prev=9,r.t0=r.catch(2),s=r.t0.message.split(" ")[5],e.loading(!1),r.t1=s,r.next="406"===r.t1?16:"404"===r.t1?18:20;break;case 16:return h.b.error("Incorrect password",{position:"top-right",autoClose:3e3,hideProgressBar:"false"}),r.abrupt("break",21);case 18:return h.b.error("Account not yet registered",{position:"top-right",autoClose:3e3,hideProgressBar:"false"}),r.abrupt("break",21);case 20:h.b.error("Network error",{position:"top-right",autoClose:3e3,hideProgressBar:"false"});case 21:console.log(s);case 22:case"end":return r.stop()}}),r,null,[[2,9]])})));return function(e){return r.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"register-container login",children:[Object(n.jsx)(h.a,{limit:1}),Object(n.jsx)("div",{style:{color:"#fff",fontFamily:"Audiowide",fontSize:"30px",marginBottom:"10px",marginTop:"30px"},children:Object(n.jsx)(w.a,{text:["Lincut..","Fast..","Reliable..","Simple.."],speed:50,eraseDelay:0})}),Object(n.jsxs)("div",{className:"login-div",children:[Object(n.jsx)("div",{style:{position:"absolute",top:"49%",fontSize:"20px",fontWeight:"bold",color:"#fff",fontFamily:"Audiowide"},children:"Log In"}),Object(n.jsx)("img",{src:C,alt:"illustration",style:{height:"50%"}}),Object(n.jsxs)("form",{className:"register-form login",onSubmit:x.bind(this),children:[Object(n.jsxs)("div",{className:"register-form-div",children:[Object(n.jsx)("input",{type:"email",className:"register-name input",placeholder:"Email",value:i,onChange:function(e){return t=e.target.value,void s(t);var t},required:!0}),Object(n.jsx)("input",{type:"password",className:"register-name input",placeholder:"Password",value:g,onChange:function(e){return t=e.target.value,void f(t);var t},required:!0}),Object(n.jsx)("input",{type:"submit",value:"Log In",className:"register-button input"})]}),Object(n.jsxs)("p",{style:{fontSize:"12px"},children:["Not yet registered?"," ",Object(n.jsx)(k.b,{to:"/register",style:{color:"grey"},children:"Register here"})]})]})]})]})}var N=r(119);function B(e){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("form",{className:"dashboard-form",onSubmit:function(){return e.shortenUrl()},children:Object(n.jsxs)("div",{className:"dashboard-form-div",children:[Object(n.jsx)("input",{type:"text",className:"input",placeholder:"Paste long url and shorten it",required:!0,value:e.newUrl,onChange:function(t){return e.onNewUrlChange(t.target.value)},style:{marginBottom:0,borderRadius:0,marginTop:"20px",border:"none",height:"45px",fontSize:"16px"}}),Object(n.jsx)("input",{type:"submit",value:"Shorten",className:"input dashboard-shorten-btn",style:{}})]})})})}function P(e){var t=e.url;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"dashboard-link-div",children:t.map((function(e){return Object(n.jsxs)("div",{className:"dashboard-link",children:[Object(n.jsxs)("p",{style:{borderBottomStyle:"solid",borderColor:"grey",borderWidth:"2px",width:"100%",paddingBottom:"10px",textAlign:"left",marginBottom:0,display:"flex",flexDirection:"column",alignItems:"flex-start",fontStyle:"Poppins",wordBreak:"break-all"},children:[Object(n.jsx)("div",{style:{background:"#282c34",padding:"5px",color:"#fff",fontWeight:"bold"},children:"Full url"}),Object(n.jsx)("div",{children:e.fullUrl})]}),Object(n.jsxs)("p",{style:{marginTop:0,paddingTop:"10px",display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[Object(n.jsx)("div",{style:{background:"orangered",padding:"5px",color:"#fff",fontWeight:"bold"},children:"Short url"}),Object(n.jsxs)("a",{href:"https://lincut.herokuapp.com/".concat(e.shortUrl),style:{color:"grey",textDecoration:"none"},children:["https://lincut.herokuapp.com/",e.shortUrl]})]}),Object(n.jsxs)("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},children:[Object(n.jsx)("p",{style:{borderStyle:"solid",borderColor:"grey",borderWidth:"2px",padding:"5px",borderRadius:"7px",textAlign:"center",color:"grey",display:"flex",fontWeight:"bold",alignSelf:"flex-end"},children:e.date.split("T")[0].split("-").reverse().join("/")}),Object(n.jsxs)("p",{style:{borderStyle:"solid",borderColor:"#007fff",borderWidth:"2px",padding:"5px",borderRadius:"7px",textAlign:"center",color:"#007fff",display:"flex",fontWeight:"bold",alignSelf:"flex-end",justifyContent:"center",alignItems:"center"},children:[Object(n.jsx)("div",{style:{background:"#007fff",color:"#fff",padding:"2px",paddingRight:"5px",paddingLeft:"5px",marginRight:"2px",fontWeight:"bold",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center"},children:e.clicks}),"clicks"]})]})]},e._id)}))})})}function I(e){var t=JSON.parse(localStorage.getItem("token")),r=Object(a.useState)([]),o=Object(c.a)(r,2),i=(o[0],o[1]),s=Object(a.useState)([]),l=Object(c.a)(s,2),p=l[0],g=l[1],f=Object(a.useState)(""),x=Object(c.a)(f,2),O=x[0],m=x[1],v=Object(j.f)(),k=Object(a.useCallback)(Object(d.a)(u.a.mark((function r(){var n,a;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.loading(!0),r.prev=1,r.next=4,b.a.get("https://lincut.herokuapp.com/user/".concat(t.id),{headers:{Authorization:"Bearer ".concat(t.token)}});case 4:n=r.sent,i(n.data),g(Object(N.a)(n.data.url)),e.loading(!1),r.next=21;break;case 10:r.prev=10,r.t0=r.catch(1),a=r.t0.message.split(" ")[5],e.loading(!1),r.t1=a,r.next="401"===r.t1?17:20;break;case 17:return h.b.error("Session expired",{position:"top-right",autoClose:3e3,hideProgressBar:"false"}),setTimeout((function(){return v.push("/")}),3e3),r.abrupt("break",21);case 20:h.b.error("Network error",{position:"top-right",autoClose:3e3,hideProgressBar:"false"});case 21:case"end":return r.stop()}}),r,null,[[1,10]])}))),[v,e,t]),y=Object(a.useCallback)(Object(d.a)(u.a.mark((function r(){var n,a;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(""!==O){r.next=2;break}return r.abrupt("return",h.b.error("Fields cannot be empty",{position:"top-right",autoClose:3e3,hideProgressBar:"false"}));case 2:return n="http"!==O.split(":")[0]&&"https"!==O.split(":")[0]?"http://".concat(O):"".concat(O),e.loading(!0),r.prev=4,r.next=7,b.a.post("https://lincut.herokuapp.com/".concat(t.id),{fullUrl:n},{headers:{Authorization:"Bearer ".concat(t.token)}});case 7:m(""),k(),e.loading(!1),r.next=24;break;case 12:r.prev=12,r.t0=r.catch(4),console.log(r.t0),e.loading(!1),a=r.t0.message.split(" ")[5],r.t1=a,r.next="401"===r.t1?20:23;break;case 20:return h.b.error("Session expired",{position:"top-right",autoClose:3e3,hideProgressBar:"false"}),setTimeout((function(){v.push("/"),localStorage.clear()}),3e3),r.abrupt("break",24);case 23:h.b.error("Network error",{position:"top-right",autoClose:3e3,hideProgressBar:"false"});case 24:case"end":return r.stop()}}),r,null,[[4,12]])}))),[O,v,t,e,k]);return Object(a.useEffect)((function(){null===t&&v.push("/"),k()}),[]),console.log(O),Object(n.jsxs)("div",{className:"dashboard-container",children:[Object(n.jsx)(h.a,{limit:2}),Object(n.jsx)(B,{newUrl:O,shortenUrl:y,onNewUrlChange:function(e){m(e)}}),Object(n.jsx)(P,{url:p})]})}function A(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{style:{color:"#fff",position:"absolute",bottom:0,left:0,right:0,background:"#000",height:"40px",textAlign:"center",padding:"10px",fontWeight:"bold"},children:"Made with \u2665 by Solomon"})})}var F=r(238),E=r(60),R=r(42),L=r(38),D=r(6),T=r(232),U=r(231),M=r(81),W=r(230),z=r(240),H=r(115),Y=r.n(H),q=r(116),J=r.n(q),G=r(44),_=r(45);var K=Object(D.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},search:Object(R.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(L.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(L.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(R.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200}),sectionDesktop:Object(R.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(R.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}))((function(e){var t=Object(j.f)(),r=Object(a.useState)({achorEl:!1,MobileMoreAnchorEl:!1}),o=Object(c.a)(r,2),i=o[0],s=o[1],l=function(){s((function(e){return Object(E.a)(Object(E.a)({},e),{},{mobileMoreAnchorEl:null})}))},u=function(e){s((function(t){return Object(E.a)(Object(E.a)({},t),{},{mobileMoreAnchorEl:e.currentTarget})}))},d=e.classes,p=Boolean(i.mobileMoreAnchorEl),b="primary-search-account-menu-mobile",h=Object(n.jsxs)(z.a,{anchorEl:i.mobileMoreAnchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},id:b,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:p,onClose:l,onClick:l,children:[localStorage.getItem("token")?null:Object(n.jsxs)(W.a,{children:[Object(n.jsx)(U.a,{"aria-label":"show 11 new notifications",color:"inherit",children:Object(n.jsx)(G.a,{icon:_.c})}),Object(n.jsx)("p",{onClick:function(){return t.push("/register")},children:"Register"})]}),Object(n.jsx)(W.a,{onClick:u,children:localStorage.getItem("token")?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(U.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(n.jsx)(G.a,{icon:_.b})}),Object(n.jsx)("p",{onClick:function(){f()({text:"Are you sure you wish to log out?",icon:"warning",buttons:{Yes:"Yes",No:"No"}}).then((function(e){"Yes"===e&&(localStorage.clear(),t.push("/"))}))},children:"Log Out"})]}):Object(n.jsxs)(n.Fragment,{children:[" ",Object(n.jsx)(U.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(n.jsx)(G.a,{icon:_.a})}),Object(n.jsx)("p",{onClick:function(){t.push("/")},children:"Log In"})]})})]});return Object(n.jsxs)("div",{className:d.grow,children:[Object(n.jsxs)(T.a,{children:[Object(n.jsx)(U.a,{edge:"start",className:d.menuButton,color:"inherit","aria-label":"open drawer",onClick:e.openDrawerHandler,children:Object(n.jsx)(Y.a,{})}),Object(n.jsx)(M.a,{className:d.title,variant:"h6",noWrap:!0,children:"Lincut"}),Object(n.jsx)("div",{className:d.grow}),Object(n.jsxs)("div",{className:d.sectionDesktop,children:[localStorage.getItem("token")?null:Object(n.jsxs)(W.a,{children:[Object(n.jsx)(U.a,{"aria-label":"show 11 new notifications",color:"inherit",children:Object(n.jsx)(G.a,{icon:_.c})}),Object(n.jsx)("p",{onClick:function(){return t.push("/register")},children:"Register"})]}),Object(n.jsx)(W.a,{children:localStorage.getItem("token")?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(U.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(n.jsx)(G.a,{icon:_.b})}),Object(n.jsx)("p",{onClick:function(){f()({text:"Are you sure you wish to log out?",icon:"warning",buttons:{Yes:"Yes",No:"No"}}).then((function(e){"Yes"===e&&(localStorage.clear(),t.push("/"))}))},children:"Log Out"})]}):Object(n.jsxs)(n.Fragment,{children:[" ",Object(n.jsx)(U.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(n.jsx)(G.a,{icon:_.a})}),Object(n.jsx)("p",{onClick:function(){t.push("/")},children:"Log In"})]})})]}),Object(n.jsx)("div",{className:d.sectionMobile,children:Object(n.jsx)(U.a,{"aria-label":"show more","aria-controls":b,"aria-haspopup":"true",onClick:u,color:"inherit",children:Object(n.jsx)(J.a,{})})})]}),h]})})),Q=r(241),V=r(117),X=r.n(V),Z=r(229),$=r(203),ee=r(233),te=r(237),re=r(234),ne=r(235),ae=r(236);var oe=X()((function(e){return{list:{width:250},fullList:{width:"auto"}}}))((function(e){var t=Object(j.f)(),r=e.classes;return Object(n.jsx)(Q.a,{open:e.left,onClose:e.toggleDrawerHandler,onClick:e.toggleDrawerHandler,children:Object(n.jsx)("div",{className:r.list,role:"presentation",children:Object(n.jsx)(Z.a,{children:["Profile","Edit Links","About Us"].map((function(e,r){return Object(n.jsxs)($.a,{button:!0,onClick:function(){return function(e){switch(e){case"Profile":t.push("/profile");break;case"Edit Links":alert("Edit links");break;default:alert("About us")}}(e)},children:[Object(n.jsx)(ee.a,{children:"Profile"!==e?"About Us"===e?Object(n.jsx)(re.a,{}):Object(n.jsx)(ne.a,{}):Object(n.jsx)(ae.a,{})}),Object(n.jsx)(te.a,{primary:e})]},e)}))})})})}));function ie(){var e=Object(a.useState)(!1),t=Object(c.a)(e,2),r=t[0],o=t[1],i=function(){o(!1)};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(F.a,{position:"sticky",style:{background:"#282c34"},children:[Object(n.jsx)(K,{openDrawerHandler:function(){o(!0)},toggleDrawerHandler:i,left:r}),Object(n.jsx)(oe,{left:r,toggleDrawerHandler:i})]})})}var se=r(118),ce=r.n(se);function le(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(ce.a,{type:"Oval",color:"#007fff",height:30,width:100})})}function ue(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"dashboard-container",children:Object(n.jsx)("div",{})})})}r(196);var de=function(){var e=Object(a.useState)(!1),t=Object(c.a)(e,2),r=t[0],o=t[1],i=function(e){o(!!e)};return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(k.a,{children:[Object(n.jsx)(ie,{}),Object(n.jsx)("div",{style:{position:"fixed",display:"flex",width:"100%",justifyContent:"center",alignItems:"center",marginTop:"60px",marginBottom:"60px",color:"#000"},children:r?Object(n.jsx)(le,{}):null}),Object(n.jsxs)(j.c,{children:[Object(n.jsx)(j.a,{exact:!0,path:"/",children:Object(n.jsx)(S,{loading:i})}),Object(n.jsx)(j.a,{path:"/Home",children:Object(n.jsx)(ue,{loading:i})}),Object(n.jsx)(j.a,{path:"/register",children:Object(n.jsx)(x,{loading:i})}),Object(n.jsx)(j.a,{path:"/dashboard",children:Object(n.jsx)(I,{loading:i})}),Object(n.jsx)(j.a,{path:"/profile",children:Object(n.jsx)(O,{loading:i})}),Object(n.jsx)(j.a,{path:"/*",children:Object(n.jsx)(v,{})})]}),Object(n.jsx)(A,{})]})})},pe=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,242)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;r(e),n(e),a(e),o(e),i(e)}))};s.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(de,{})}),document.getElementById("root")),pe()},64:function(e,t,r){}},[[197,1,2]]]);
//# sourceMappingURL=main.71e1f9b1.chunk.js.map